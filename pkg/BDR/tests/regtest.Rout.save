
R version 3.3.1 (2016-06-21) -- "Bug in Your Hair"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library("BDR")
> library("survival")
> data("iris")
> 
> iris[3, "Sepal.Width"] <- NA
> 
> iris1 <- BDR(iris, nmax = 5)
> 
> iris2 <- BDR(iris, nmax = 5, total = TRUE)
> 
> all.equal(as.data.frame(iris1), as.data.frame(iris2))
[1] "Attributes: < Component \"row.names\": Modes: numeric, character >"              
[2] "Attributes: < Component \"row.names\": target is numeric, current is character >"
> 
> (w <- weights(iris2))
ret
1.3.1.1.1 1.5.1.1.1 1.4.2.1.1 2.5.2.1.1 1.0.1.2.1 1.1.1.2.1 1.2.1.2.1 1.3.1.2.1 
        2         1         1         1         1         1         1         3 
1.4.1.2.1 2.4.1.2.1 1.5.1.2.1 2.5.1.2.1 3.5.1.2.1 2.3.2.2.1 1.4.2.2.1 2.4.2.2.1 
        2         2         2         8         1         1         4         1 
1.5.2.2.1 2.5.2.2.1 3.5.2.2.1 1.1.2.2.2 2.1.2.2.2 3.1.2.2.2 3.1.3.2.2 3.2.3.2.2 
        2        14         2         1         5         2         1         1 
2.2.2.3.2 3.2.2.3.2 2.1.3.3.2 3.1.3.3.2 4.1.3.3.2 3.2.3.3.2 4.2.3.3.2 5.2.3.3.2 
        1         2         3         1         1         4         3         1 
3.3.3.3.2 4.3.3.3.2 5.3.3.3.2 5.4.3.3.2 4.2.4.3.2 5.2.4.3.2 5.4.4.3.2 4.1.3.4.2 
        2         1         1         1         2         1         1         1 
3.2.3.4.2 4.2.3.4.2 2.3.3.4.2 3.3.3.4.2 4.4.3.4.2 3.5.3.4.2 4.1.4.4.2 3.2.4.4.2 
        1         1         1         2         1         1         1         1 
5.3.4.4.2 3.4.4.4.2 4.4.4.4.2 5.4.4.4.2 4.1.5.3.3 1.1.3.4.3 3.1.4.4.3 4.2.4.4.3 
        1         1         1         2         1         1         1         3 
3.3.4.4.3 4.3.4.4.3 5.1.5.4.3 4.2.5.4.3 5.2.5.4.3 4.3.5.4.3 5.3.5.4.3 4.4.5.4.3 
        2         1         1         1         1         1         1         1 
5.4.5.4.3 3.1.4.5.3 4.1.4.5.3 3.2.4.5.3 4.2.4.5.3 4.3.4.5.3 5.3.4.5.3 4.4.4.5.3 
        1         1         1         4         1         1         1         2 
5.4.4.5.3 5.1.5.5.3 4.2.5.5.3 5.2.5.5.3 4.3.5.5.3 5.3.5.5.3 4.4.5.5.3 5.4.5.5.3 
        1         1         2         2         1         4         1         6 
4.5.5.5.3 5.5.5.5.3 
        2         3 
> sum(w)
[1] 150
> 
> x <- runif(100)
> x[1:3] <- NA   
> ix <- interval(x, breaks = 0:10/10)
> 
> levels(ix)
 [1] "(0,0.1]"   "(0.1,0.2]" "(0.2,0.3]" "(0.3,0.4]" "(0.4,0.5]" "(0.5,0.6]"
 [7] "(0.6,0.7]" "(0.7,0.8]" "(0.8,0.9]" "(0.9,1]"  
> nlevels(ix)
[1] 10
> ix
  [1] <NA>      <NA>      <NA>      (0.2,0.3] (0.8,0.9] (0.2,0.3] (0,0.1]  
  [8] (0.9,1]   (0.5,0.6] (0.3,0.4] (0.8,0.9] (0.7,0.8] (0.6,0.7] (0.2,0.3]
 [15] (0,0.1]   (0.5,0.6] (0,0.1]   (0.5,0.6] (0.4,0.5] (0.8,0.9] (0.7,0.8]
 [22] (0.5,0.6] (0.1,0.2] (0.6,0.7] (0.5,0.6] (0.5,0.6] (0.5,0.6] (0.8,0.9]
 [29] (0.8,0.9] (0.9,1]   (0,0.1]   (0.6,0.7] (0.7,0.8] (0.4,0.5] (0.2,0.3]
 [36] (0,0.1]   (0.2,0.3] (0.2,0.3] (0.8,0.9] (0.6,0.7] (0.5,0.6] (0.3,0.4]
 [43] (0,0.1]   (0.7,0.8] (0.5,0.6] (0.6,0.7] (0,0.1]   (0,0.1]   (0.9,1]  
 [50] (0.1,0.2] (0.8,0.9] (0.4,0.5] (0.4,0.5] (0.6,0.7] (0.5,0.6] (0.8,0.9]
 [57] (0,0.1]   (0.8,0.9] (0,0.1]   (0,0.1]   (0.1,0.2] (0.7,0.8] (0.9,1]  
 [64] (0.1,0.2] (0.2,0.3] (0.2,0.3] (0.5,0.6] (0.8,0.9] (0.4,0.5] (0.8,0.9]
 [71] (0.7,0.8] (0.9,1]   (0.2,0.3] (0.5,0.6] (0.1,0.2] (0.4,0.5] (0.8,0.9]
 [78] (0.9,1]   (0.4,0.5] (0.1,0.2] (0.9,1]   (0.8,0.9] (0.5,0.6] (0.4,0.5]
 [85] (0.9,1]   (0.3,0.4] (0.3,0.4] (0.8,0.9] (0.1,0.2] (0.5,0.6] (0.4,0.5]
 [92] (0.8,0.9] (0.2,0.3] (0.9,1]   (0.3,0.4] (0.7,0.8] (0.4,0.5] (0.2,0.3]
 [99] (0.2,0.3] (0.3,0.4]
10 Intervals: (0,0.1] < (0.1,0.2] < (0.2,0.3] < (0.3,0.4] < ... < (0.9,1]
>   
> table(ix)
ix
 0  1  2  3  4  5  6  7  8  9 10 
 3 11  7 12  6 10 14  6  7 15  9 
> ix[1:10]
 [1] <NA>      <NA>      <NA>      (0.2,0.3] (0.8,0.9] (0.2,0.3] (0,0.1]  
 [8] (0.9,1]   (0.5,0.6] (0.3,0.4]
10 Intervals: (0,0.1] < (0.1,0.2] < (0.2,0.3] < (0.3,0.4] < ... < (0.9,1]
> 
> enum(gl(3, 3))
[1] 1 1 1 2 2 2 3 3 3
Levels: 1 2 3
> enum(gl(3, 3, ordered = TRUE))
[1] 1 1 1 2 2 2 3 3 3
Levels: 1 < 2 < 3
> enum(c(TRUE, FALSE))
[1] TRUE  FALSE
Levels: FALSE TRUE
> enum(c(1:3, 20L, 30L))
[1] 1  2  3  20 30
Levels: 1 2 3 20 30
> 
> x <- sample(c(1:3, 10L, 20L), 100, replace = TRUE)
> x[1:3] <- NA
> ix <- enum(x)
> levels(ix)   
[1]  1  2  3 10 20
> nlevels(ix)  
[1] 5
> ix
  [1] <NA> <NA> <NA> 10   20   1    3    10   20   1    2    2    2    10   10  
 [16] 3    2    1    3    3    10   20   1    3    3    10   1    20   10   2   
 [31] 10   3    1    3    10   2    2    20   1    1    20   2    10   2    20  
 [46] 1    20   20   1    10   1    1    10   3    2    20   3    10   2    10  
 [61] 1    2    3    20   10   10   20   10   3    2    2    20   2    3    10  
 [76] 1    2    10   2    2    10   1    20   10   1    2    20   20   1    20  
 [91] 3    3    10   20   3    3    2    2    3    10  
Levels: 1 2 3 10 20
>   
> table(ix)
ix
 0  1  2  3  4  5 
 3 17 21 18 23 18 
> 
> 
> proc.time()
   user  system elapsed 
  0.812   0.044   0.853 
